<?php	include("../_includes/session_test.inc");	include("../_includes/_revolutionfc.inc");    include("../_includes/_fileUpload.inc"); // Include the file with the handleFileUpload function		unset($_GET);        $headline = isset($_POST['zt_headline']) ? nl2br(stripslashes($_POST['zt_headline'])) : retour_erreur(4, 7);    $button = isset($_POST['zt_button']) ? nl2br(stripslashes($_POST['zt_button'])) : retour_erreur(4, 7);    $link = isset($_POST['zt_link']) ? nl2br(stripslashes($_POST['zt_link'])) : retour_erreur(4, 7);    $alert1 = isset($_POST['switch_alert_1']) && $_POST['switch_alert_1'] === 'on' ? 1 : 0;            // Define the valid file extensions    $extensions_valides = array('jpg', 'jpeg', 'png');    $page = '4';    $error_code = '1024';    if ($_FILES['f_hero_img']['size'] == 0) {        $stmt = $db->prepare('UPDATE CONFIG_hero_home SET hero_headline = ?, hero_button = ?, hero_link = ?, external_link = ? WHERE id_config = 1');        $execute = $stmt->execute([            $headline,            $button,            $link,            $alert1        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(4,3);        } else {            retour_erreur(4,4);        }    } else {                // Handle file upload        $dossier = "img/";        $destination = handleFileUpload($_FILES['f_hero_img'], $dossier, $extensions_valides, $page, $error_code);        $stmt = $db->prepare('UPDATE CONFIG_hero_home SET hero_headline = ?, hero_button = ?, hero_link = ?, external_link = ?, hero_image = ? WHERE id_config = 1');        $execute = $stmt->execute([            $headline,            $button,            $link,            $alert1,            $destination        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(4,3);        } else {            retour_erreur(4,4);        }    }?>