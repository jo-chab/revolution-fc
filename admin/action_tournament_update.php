<?php	include("../_includes/session_test.inc");	include("../_includes/_revolutionfc.inc");    include("../_includes/_fileUpload.inc");		unset($_GET);	if(isset($_POST['zt_name']))	{		$name = nl2br(stripslashes($_POST['zt_name']));	}	else	{		retour_erreur(81,801);	}	if(isset($_POST['zt_desc']))	{		$desc = nl2br(stripslashes($_POST['zt_desc']));	}	else	{		retour_erreur(81,802);	}	if(isset($_POST['ta_tournoi']))	{		$text = nl2br(stripslashes($_POST['ta_tournoi']));	}	else	{		retour_erreur(81,803);	}	$tournoi = $_POST['element'];        // Define the valid file extensions    $extensions_valides = array('jpg', 'jpeg', 'png');    $page = '81';    $error_code = '1024';    if ($_FILES['f_photo_tournoi']['size'] == 0)    {        $stmt = $db->prepare('UPDATE TOURNAMENT SET tournament_name = ?, tournament_desc = ?, tournament_text = ? WHERE id_tournament = ?');        $execute = $stmt->execute([            addslashes($name),            addslashes($desc),            addslashes($text),            $tournoi        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(81,3);        } else {            retour_erreur(81,4);        }    }    else    {        // Handle file upload        $dossier = "/img/_tournoi/";        $destination = handleFileUpload($_FILES['f_photo_tournoi'], $dossier, $extensions_valides, $page, $error_code);        $stmt = $db->prepare('UPDATE TOURNAMENT SET tournament_name = ?, tournament_desc = ?, tournament_text = ?, tournament_img = ? WHERE id_tournament = ?');        $execute = $stmt->execute([            addslashes($name),            addslashes($desc),            addslashes($text),            $destination,            $tournoi        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(81,3);        } else {            retour_erreur(81,4);        }    }?>