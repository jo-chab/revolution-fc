<?php	include("../_includes/session_test.inc");	include("../_includes/_revolutionfc.inc");    include("../_includes/_fileUpload.inc");		unset($_GET);            // Check if all the required POST parameters are set    $requiredFields = ['zt_titre', 'zt_desc'];    foreach ($requiredFields as $field) {        if (!isset($_POST[$field])) {            retour_erreur(23, 7);        }    }        $zt_titre = nl2br(stripslashes($_POST['zt_titre']));    $zt_desc = nl2br(stripslashes($_POST['zt_desc']));    if ($_FILES['f_document']['size'] == 0) {        $stmt = $db->prepare('INSERT Into EMPLOIS (job_name, job_desc) Values (?, ?)');        $execute = $stmt->execute([            addslashes($zt_titre),            addslashes($zt_desc)        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(24,921);        } else {            retour_erreur(24,922);        }    }    else {                // Define the valid file extensions        $page = '24';        $error_code = '1026';                // Handle file upload        $dossier = "docs/emplois";        $destination = handleDocUpload($_FILES['f_document'], $dossier, $page, $error_code);        $stmt = $db->prepare('INSERT Into EMPLOIS (job_name, job_desc, job_doc) Values (?, ?, ?)');        $execute = $stmt->execute([            addslashes($zt_titre),            addslashes($zt_desc),            $destination        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(24,921);        } else {            retour_erreur(24,922);        }    }?>