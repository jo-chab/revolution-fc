<?php	include("../_includes/session_test.inc");	include("../_includes/_revolutionfc.inc");		unset($_GET);        unset($_GET);$requiredFields = ['zt_title', 'zt_intro', 'ta_prog'];        foreach ($requiredFields as $field) {        if (isset($_POST[$field])) {            ${$field} = nl2br(stripslashes($_POST[$field]));                        if ($field === 'ta_prog') {                $ta_prog_clean = str_replace("<br /><br />", "<br />", $ta_prog);            }        } else {            retour_erreur(51, 7);        }    }    $element = $_POST['element'];        // Define the valid file extensions    $extensions_valides = array('jpg', 'jpeg', 'png');    $page = '51';    $error_code = '1024';    if ($_FILES['f_photo_p']['size'] == 0)    {        $stmt = $db->prepare('UPDATE PROGRAMME SET programme_name = ?, programme_intro = ?, programme_text = ? WHERE id_programme = ?');        $execute = $stmt->execute([            addslashes($zt_title),            addslashes($zt_intro),            addslashes($ta_prog),            $element        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(51,3);        } else {            retour_erreur(51,4);        }    }    else    {        // Handle file upload        $dossier = "img/";        $destination = handleFileUpload($_FILES['f_photo_p'], $dossier, $extensions_valides, $page, $error_code);        $stmt = $db->prepare('UPDATE PROGRAMME SET programme_name = ?, programme_intro = ?, programme_text = ?, programme_img = ? WHERE id_programme = ?');        $execute = $stmt->execute([            addslashes($zt_title),            addslashes($zt_intro),            addslashes($ta_prog),            $destination,            $element        ]);        if ($execute) {            $stmt->closeCursor();            retour_erreur(51,3);        } else {            retour_erreur(51,4);        }    }?>