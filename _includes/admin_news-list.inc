<div class="dashboard-main">    <div class="dashboard-title">        <h4>Gestion des nouvelles</h4>    </div>    <div class="dashboard-content">                <a class="btn-primary btn-add small icon mobile-icon-only i-more" href="?p=10"><span class="hover-content">Ajouter une actualit&eacute;</span></a>                <ul class="dashboard-list">            <?php                $stmt = $db->prepare("select * from ACTUALITE order by date_actu DESC");                $stmt->execute();                $results = $stmt->fetchAll(PDO::FETCH_ASSOC);                                foreach ($results as $result) {                    $titre = nl2br(stripslashes($result['titre']));                    $id_actu = $result['id_actu'];                                        $show = $result['actif'];                    $checked = $show == 1 ? 'checked' : '';                                        echo "            <li class='dashboard-list-elements layout-col-3'>                <div class='content-icon'>                    <div class='switch-status'>                        <input type='hidden' name='element' value='$id_actu'>                        <label class='switch-container'>                            <input type='checkbox' class='switch-checkbox' name='switch_view' $checked />                            <span class='switch-knob'></span>                        </label>                    </div>                </div>                <div class='element-title content-element'>$titre</div>                <div class='list-cta content-btn'>                    <form action='action_news_delete' method='post'>                        <input type='hidden' name='element' value='$id_actu'>                        <div class='btn-primary small btn-delete icon mobile-icon-only validate-form'><span>Supprimer</span></div>                    </form>                    <form action='index.php?p=12&actu=$id_actu' method='post'>                        <input type='hidden' name='element' value='$id_actu'>                        <div class='btn-primary btn-update small icon mobile-icon-only'><span>Modifier</span></div>                    </form>                </div>            </li>";                }            ?>        </ul>        </div></div><script>        // update the news status directly    document.addEventListener('DOMContentLoaded', function () {        const switchElements = document.querySelectorAll('.switch-checkbox');        switchElements.forEach((switchElement) => {            switchElement.addEventListener('change', function () {                const element = this.closest('.switch-status').querySelector('[name="element"]').value;                const checked = this.checked ? 1 : 0;                // Make an AJAX request to update the project status                updateNewsStatus(element, checked);            });        });        function updateNewsStatus(element, checked) {            const xhr = new XMLHttpRequest();            xhr.open('POST', 'action_news_disable.php', true);            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');            xhr.onreadystatechange = function () {                if (xhr.readyState === 4 && xhr.status === 200) {                    // Handle the response if needed                }            };            xhr.send(`element=${element}&checked=${checked}`);        }    });</script>