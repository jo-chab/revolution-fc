<?php    $element = $_POST['element'];    unset($_POST);        $stmt = $db->prepare("select * from PROGRAMS where id_program = ? ");    $stmt->execute([$element]);        while ($curseur1 = $stmt->fetch()) {        extract($curseur1);                $title = nl2br(stripslashes($program_name));        $intro = nl2br(stripslashes($program_intro));        $registration = $url_registration;        $text = nl2br(stripslashes($program_text));        $text = str_replace("<br />", "", $text);                // Assign values based on database data        $p1 = $p_winter;        $p2 = $p_summer;                // Initialize checked values based on $alert1 and $alert2        $checked1 = $p1 == 1 ? 'checked' : '';        $checked2 = $p2 == 1 ? 'checked' : '';            }        $supprElement = 1;    $actionForm = "action_program_delete.php";    $supprText = 'Supprimer le programme';    ?><div class="dashboard-main">        <div class="dashboard-title">        <h4>Modifier les informations du programme</h4>    </div>    <div class="dashboard-content">        <form method="post" action="action_program_update" enctype="multipart/form-data">            <div class="d-form-wrapper">                                <input name="element" type="hidden" value="<?php echo $element ?>">                                <div class="form-row column">                    <h6>* Obligatoire</h6>                </div>                                <div class="grid-layout-2">                    <div class="form-row column">                        <label>Programme Hiver?</label>                        <div class='switch-status'>                            <label class='switch-container'>                                <input type='checkbox' class='switch-checkbox' name='switch_winter' <?php echo $checked1 ?>/>                                <span class='switch-knob'></span>                            </label>                        </div>                    </div>                    <div class="form-row column">                        <label>Programme été?</label>                        <div class='switch-status'>                            <label class='switch-container'>                                <input type='checkbox' class='switch-checkbox' name='switch_summer' <?php echo $checked2 ?>/>                                <span class='switch-knob'></span>                            </label>                        </div>                    </div>                </div>                                <div class="form-row column">                    <label>Titre du programme (max : 80 caractères)*</label>                    <input name="zt_title" type="text" maxlength="80" value="<?php echo $title ?>" required>                </div>                                <div class="form-row column">                    <label>Intro (max : 256 caractères)*</label>                    <input name="zt_intro" type="text" maxlength="256" value="<?php echo $intro ?>" required>                </div>                                <div class="form-row column">                    <label>Lien d'inscription*</label>                    <input name="zt_url" type="text" maxlength="" value="<?php echo $registration ?>" required>                </div>                                <!-- Include TinyMCE library -->                <script src="https://cdn.tiny.cloud/1/ww9qtqggrif3pyqjvuxyx5ee7lwdmh1857eqzsvb3o2f1d3f/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>                                <!-- Initialize TinyMCE on your textarea -->                <script>                    tinymce.init({                        selector: 'textarea#ta_prog',                        width: '100%',                        min_height: 500,                        plugins: 'lists link table paste',                        toolbar: 'undo redo | styleselect | paste bold italic underline | bullist numlist | link table',                        paste_as_text: true,                        style_formats: [                            {                                title: 'Texte', items: [                                    {title: 'Titre principal', format: 'h2'},                                    {title: 'Sous-titre', format: 'h3'},                                    {title: 'Paragraphe', format: 'p'}                                ]                            }                        ],                        // The following option is used to append style formats rather than overwrite the default style formats.                        style_formats_merge: false,                        menubar: false                    });                </script>                                <div class="form-row column">                    <label>Texte*</label>                    <textarea id="ta_prog" name="ta_prog" required><?php echo $text ?></textarea>                </div>                                <div class="form-row column">                    <label>Photo actuelle</label>                    <?php                        echo "<div class='actu-img-upload'><img src='../$program_img' alt='$titre' /></div>";                    ?>                </div>                                <ul class="file-list">                    <li class="file-list-element">                        <div class="dashboard-file-box">                            <input type="file" name="f_photo_p" id="f_photo_p" class="inputfile"/>                            <label for="f_photo_p" class="upload-file-btn"><span>Télécharger l'image</span></label>                        </div>                        <script src="/js/custom-file-input.js"></script>                    </li>                </ul>                                <h6>Attention les dimensions de l'image ne doivent pas dépasser 2400x1600 px</h6>                <h6>Pensez également à réduire a taille de votre fichier pour améliorer les performances de votre                    site.</h6>                        </div>            <div class="d-form-cta">                <div class="btn-primary small btn-revert icon mobile-icon-only"><span>Effacer</span></div>                <div class="btn-primary small btn-confirm icon mobile-icon-only"><span>Mettre à jour</span></div>            </div>                </form>        </div></div>